*------------------------------------------------------------*
User:                hkatrag1
Date:                December 12, 2017
Time:                11:44:22
Site:                70117250
Platform:            X64_DSRV12
Maintenance Release: 9.04.01M3P062415
EM Version:          14.1
* 
*------------------------------------------------------------*
* Training Log
Date:                December 12, 2017
Time:                11:44:19
*------------------------------------------------------------*
10866  proc freq data=EMWS2.Trans_VariableSet noprint;
10867  table ROLE*LEVEL/out=WORK.TransMETA;
10868  run;
 
NOTE: There were 27 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK.TRANSMETA has 5 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
10869  proc print data=WORK.TransMETA label noobs;
10870  var ROLE LEVEL COUNT;
10871  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
10872  title9 ' ';
10873  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
10874  run;
 
NOTE: There were 5 observations read from the data set WORK.TRANSMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
10875  title10;
 
10876  data WORK.M2QU2T6T;
10877  set WORK.M2QU2T6T;
10878  if (METHOD='NONE' and ROLE ne 'FREQ') or (role = 'REJECTED' and METHOD = 'DEFAULT') then delete;
10879  run;
 
NOTE: There were 27 observations read from the data set WORK.M2QU2T6T.
NOTE: The data set WORK.M2QU2T6T has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
 
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
10944  *------------------------------------------------------------*;
10945  * Trans: Computing Summary Statistics;
10946  *------------------------------------------------------------*;
10947  data WORK.M2P7T92D;
10948  set WORK.M2P7T92D;
10949  if (role = 'REJECTED') then role = 'INPUT';
10950  run;
 
NOTE: There were 26 observations read from the data set WORK.M2P7T92D.
NOTE: The data set WORK.M2P7T92D has 26 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
10951  *------------------------------------------------------------* ;
10952  * EM: DMDBClass Macro ;
10953  *------------------------------------------------------------* ;
10954  %macro DMDBClass;
10955      DemCluster(ASC) DemGender(ASC) DemHomeOwner(ASC) StatusCat96NK(ASC)
10956     StatusCatStarAll(ASC) TargetB(DESC)
10957  %mend DMDBClass;
10958  *------------------------------------------------------------* ;
10959  * EM: DMDBVar Macro ;
10960  *------------------------------------------------------------* ;
10961  %macro DMDBVar;
10962      DemAge DemMedHomeValue DemMedIncome DemPctVeterans GiftAvg36 GiftAvgAll
10963     GiftAvgCard36 GiftAvgLast GiftCnt36 GiftCntAll GiftCntCard36 GiftCntCardAll
10964     GiftTimeFirst GiftTimeLast PromCnt12 PromCnt36 PromCntAll PromCntCard12
10965     PromCntCard36 PromCntCardAll
10966  %mend DMDBVar;
10967  *------------------------------------------------------------*;
10968  * EM: Create DMDB;
10969  *------------------------------------------------------------*;
10970  proc dmdb batch data=EMWS2.Ids_DATA
10971  dmdbcat=WORK.EM_DMDB
10972  classout=WORK.Transclassout
10973  maxlevel = 513
10974  ;
10975  class %DMDBClass;
10976  var %DMDBVar;
10977  target
10978  TargetB
10979  ;
10980  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS2.IDS_DATA.
NOTE: The data set WORK.TRANSCLASSOUT has 69 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.07 seconds
      cpu time            0.07 seconds
 
 
10981  quit;
10982  *--- end code ---*;
 
10983  data WORK.TransINTERVALMETA;
10984  set WORK.M2QU2T6T;
10985  if LEVEL ne 'INTERVAL' then delete;
10986  run;
 
NOTE: There were 26 observations read from the data set WORK.M2QU2T6T.
NOTE: The data set WORK.TRANSINTERVALMETA has 20 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
10987  *------------------------------------------------------------*;
10988  * Trans: Determining Variables to Scale;
10989  *------------------------------------------------------------*;
10990  data WORK.M3FLRU26;
10991  set WORK.M3FLRU26;
10992  where (TYPE="N" and (METHOD in("MAX_NORM", "MAX_CORR", "EQUALIZE", "OP_MAX_NORM", "OP_EQUALIZE"))) or (ROLE eq "FREQ");
10993  run;
 
NOTE: There were 0 observations read from the data set WORK.M3FLRU26.
      WHERE ((TYPE='N') and METHOD in ('EQUALIZE', 'MAX_CORR', 'MAX_NORM', 'OP_EQUALIZE', 'OP_MAX_NORM')) or (ROLE='FREQ');
NOTE: The data set WORK.M3FLRU26 has 0 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.16 seconds
      cpu time            0.15 seconds
 
10996  %exploreSample(DATA=EMWS2.Ids_DATA, OUTPUT=EMWS2.Trans_SAMPLE_DATA, METADATA=EMWS2.Ids_CMeta_DATA, VARS=, METHOD=RANDOM, SIZE=MAX, ALPHA=0.01, PVALUE=0.01, SEED=12345);
NOTE: Fileref X has been deassigned.
NOTE: EXPLOREOBS EMWS2.Ids_DATA : vars= 28 : recl= 205 : max=20000 : def= 2000
PERFORMANCE  DETAILS
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
 
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: There were 9686 observations read from the data set EMWS2.IDS_DATA.
NOTE: The data set EMWS2.TRANS_SAMPLE_DATA has 9686 observations and 28 variables.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
 
 
 
*------------------------------------------------------------*
* Score Log
Date:                December 12, 2017
Time:                11:44:21
*------------------------------------------------------------*
11274  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11275  GiftTimeLast_REV = -1*GiftTimeLast;
11276  run;
 
NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11277  quit;
 
11278  data WORK._CODEINPUT1;
11279  length ROLE $32 LEVEL $8 REPORT $1;
11280  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11281  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11282  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11283  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11284  by INPUTNAME;
11285  run;
 
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 1 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11286  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11287  run;
 
NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11288  data WORK.TRANS_FORMULAVARS;
11289  length UNAME $32;
11290  set WORK.TRANS_FORMULAVARS;
11291  UNAME = upcase(INPUTNAME);
11292  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11293  proc sort data=WORK.TRANS_FORMULAVARS;
11294  by UNAME;
11295  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11296  data _temp;
11297  set EMWS2.Trans_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11298  length UNAME $32;
11299  UNAME = upcase(INPUTNAME);
11300  run;
 
NOTE: There were 27 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11301  proc sort data=_temp;
11302  by UNAME;
11303  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11304  data WORK.TRANS_FORMULAVARS;
11305  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11306  by UNAME;
11307  if _a and _b then output;
11308  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11309  proc sort data=WORK.TRANS_FORMULAVARS;
11310  by _FormulaNum UNAME;
11311  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11312  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11313  length ROLE $32 REPORT $1;
11314  set WORK.TRANS_FORMULAVARS;
11315  by _FormulaNum;
11316  if INPUTROLE = 'TARGET' then output _target;
11317  if first._FormulaNum then do;
11318  if ^last._FormulaNum then do;
11319  INPUTNAME='';
11320  INPUTROLE='';
11321  INPUTTYPE='';
11322  INPUTREPORT='';
11323  end;
11324  output WORK.TRANS_FORMULAVARS;
11325  end;
11326  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11327  data _temp;
11328  set EMWS2.Trans_FORMULA;
11329  _FormulaNum = _N_;
11330  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11331  data WORK.TRANS_CODEFORMULA;
11332  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11333  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11334     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11335     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11336     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11337  drop _FormulaNum UNAME;
11338  _targetFlag = 0;
11339  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11340  by _FormulaNum;
11341  _targetFlag = 0;
11342  if _c then _targetFlag=1;
11343  if INPUT ne '' then if _a and ^_b then delete;
11344  if ROLE = '' then do;
11345  if INPUTROLE = '' then ROLE='INPUT';
11346  else ROLE = INPUTROLE;
11347  end;
11348  if REPORT = '' then do;
11349  if INPUTREPORT = '' then REPORT='N';
11350  else REPORT = INPUTREPORT;
11351  end;
11352  run;
 
NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11353  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas";
11354  data _null_;
11355  set WORK.TRANS_CODEFORMULA;
11356  file _code;
11357  if type eq 'C' and length > 0 then do;
11358  put 'length ' name ' $' length ';';
11359  end;
11360  if format ne '' then do;
11361  put 'format ' name format ';';
11362  end;
11363  length deqLabel $202;
11364  if label ne '' then do;
11365  deqlabel = tranwrd(label, '"', '""');
11366  put 'label ' name '="' deqlabel '";';
11367  end;
11368  if name ne '' and formula ne '' then do;
11369  put name '=' formula ';';
11370  end;
11371  run;
 
NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:44:24,
      Create Time=12Dec2017:11:44:24
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
11372  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11373  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas";
11374  data _null_;
11375  set WORK.TRANS_CODEFORMULA;
11376  file _code;
11377  if _targetFlag eq 0 then do;
11378  if type eq 'C' and length > 0 then do;
11379  put 'length ' name ' $' length ';';
11380  end;
11381  if format ne '' then do;
11382  put 'format ' name format ';';
11383  end;
11384  length deqLabel $202;
11385  if label ne '' then do;
11386  deqlabel = tranwrd(label, '"', '""');
11387  put 'label ' name '="' deqlabel '";';
11388  end;
11389  if name ne '' and formula ne '' then do;
11390  put name '=' formula ';';
11391  end;
11392  end;
11393  run;
 
NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:44:24,
      Create Time=12Dec2017:11:44:24
 
NOTE: 1 record was written to the file _CODE.
      The minimum record length was 35.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11394  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
11395  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas";
11396  data _null_;
11397  set WORK.TRANS_CODEFORMULA;
11398  file _code;
11399  length String $200;
11400  if ROLE eq '' then ROLE = 'REJECTED';
11401  if REPORT eq '' then REPORT = 'N';
11402  String = 'if NAME="'!!strip(name)!!'" then do;';
11403  put / string;
11404  String = '   ROLE ="'!!strip(role)!!'";';
11405  put string;
11406  String = '   REPORT ="'!!strip(report)!!'";';
11407  put string;
11408  if LEVEL ne '' then do;
11409  String = '   LEVEL ="'!!strip(level)!!'";';
11410  put string;
11411  end;
11412  put 'end;';
11413  if INPUTNAME ne '' then do;
11414  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11415  put String;
11416  end;
11417  run;
 
NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:44:24,
      Create Time=12Dec2017:11:44:24
 
NOTE: 7 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 35.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11418  filename _code;
NOTE: Fileref _CODE has been deassigned.
 
NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11419  proc print data = EMWS2.Trans_FORMULA(obs=500) noobs label;
11420  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11421  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11422  var Name ROLE LEVEL FORMULA;
11423  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11424  title9;
11425  title10;
 
11426  filename emflow "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
11427  *------------------------------------------------------------*;
11428  * Trans: Scoring DATA data;
11429  *------------------------------------------------------------*;
11430  data EMWS2.Trans_TRAIN
11431  / view=EMWS2.Trans_TRAIN
11432  ;
11433  set EMWS2.Ids_DATA
11434  ;
11435  %inc emflow;
11440  run;
 
NOTE: DATA STEP view saved on file EMWS2.TRANS_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.IDS_DATA.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
 
11441  quit;
11442  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
11443  *------------------------------------------------------------*;
11444  * Trans: Computing metadata for TRAIN data;
11445  *------------------------------------------------------------*;
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.06 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                December 12, 2017
Time:                11:44:22
*------------------------------------------------------------*
11816  *------------------------------------------------------------*;
11817  * &msgString;
11818  *------------------------------------------------------------*;
11819  filename _flowref "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans\EMFLOWSCORE.sas";
11820  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK.TRANS_SCOREINPUTS;
11821  %INCLUDE _flowref;
11826  run;
 
NOTE: Dependency structure written to data set WORK.TRANS_SCOREINPUTS.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11827  quit;
11828  data WORK.TRANS_SCOREINPUTS;
11829  set WORK.TRANS_SCOREINPUTS(keep=RHS rename=(RHS=NAME));
11830  length UNAME $32;
11831  UNAME = upcase(NAME);
11832  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11833  proc sort data=WORK.TRANS_SCOREINPUTS NODUPKEY;
11834  by UNAME;
11835  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11836  filename _flowref;
NOTE: Fileref _FLOWREF has been deassigned.
11837  %let SYSCC = 0;
11838  *------------------------------------------------------------*;
11839  * transformcombinevariables;
11840  *------------------------------------------------------------*;
11841  data WORK.TRANS_OUTPUTVARS;
11842  length Uname inputName $32 inputLevel $10 inputType $1 _MetaFlag 8;
11843  set
11844  EMWS2.Trans_FORMULA
11845  ;
11846  _MetaFlag=0;
11847  uname = upcase(name);
11848  run;
 
NOTE: Variable inputName is uninitialized.
NOTE: Variable inputLevel is uninitialized.
NOTE: Variable inputType is uninitialized.
NOTE: There were 1 observations read from the data set EMWS2.TRANS_FORMULA.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11849  data _temp;
11850  length UNAME $32;
11851  set EMWS2.Trans_CMeta_TRAIN(keep=NAME LEVEL ROLE TYPE CREATOR LABEL);
11852  UNAME = upcase(name);
11853  where upcase(CREATOR) = upcase("Trans");
11854  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_CMETA_TRAIN.
      WHERE UPCASE(CREATOR)='TRANS';
NOTE: The data set WORK._TEMP has 1 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
11855  proc sort data=_temp(drop=CREATOR);
11856  by UNAME;
11857  run;
 
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 1 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11858  proc sort data=WORK.TRANS_OUTPUTVARS;
11859  by UNAME;
11860  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11861  data WORK.TRANS_OUTPUTVARS;
11862  merge WORK.TRANS_OUTPUTVARS _temp;
11863  by UNAME;
11864  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_OUTPUTVARS has 1 observations and 22 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11865  *------------------------------------------------------------*;
11866  * Trans: Get Metadata for the Score Inputs Variables;
11867  *------------------------------------------------------------*;
11868  data _temp;
11869  length UNAME $32;
11870  set EMWS2.Trans_VariableSet(keep=NAME LEVEL TYPE LABEL);
11871  UNAME = upcase(name);
11872  run;
 
NOTE: There were 27 observations read from the data set EMWS2.TRANS_VARIABLESET.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11873  proc sort data=_temp;
11874  by UNAME;
11875  run;
 
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 27 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11876  data WORK.TRANS_SCOREINPUTS;
11877  merge WORK.TRANS_SCOREINPUTS(in=_a) _temp(in=_b);
11878  by UNAME;
11879  if _a and _b then output;
11880  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: There were 27 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_SCOREINPUTS has 1 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11881  *------------------------------------------------------------*;
11882  * Trans: Computing Summary Statistics;
11883  *------------------------------------------------------------*;
11884  proc dmdb data=EMWS2.Trans_TRAIN classout=WORK.TRANS_CLASSSTATS varout=WORK.TRANS_VARSTATS;
11885  ;
11886  var
11887  GiftTimeLast
11888  GiftTimeLast_REV
11889  ;
11890  run;
 
NOTE: Records processed = 9686   Memory used = 511K.
NOTE: There were 9686 observations read from the data set BIA.PVA97NK.
NOTE: View EMWS2.TRANS_TRAIN.VIEW used (Total process time):
      real time           0.06 seconds
      cpu time            0.04 seconds
 
NOTE: There were 9686 observations read from the data set EMWS2.IDS_DATA.
NOTE: There were 9686 observations read from the data set EMWS2.TRANS_TRAIN.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE DMDB used (Total process time):
      real time           0.07 seconds
      cpu time            0.06 seconds
 
 
11891  *------------------------------------------------------------*;
11892  * Trans: Combine Information and Statistics for Class Variables;
11893  *------------------------------------------------------------*;
11894  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11895  by NAME;
11896  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11897  proc sort data=WORK.TRANS_CLASSSTATS;
11898  by NAME;
11899  run;
 
NOTE: Input data set is empty.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11900  data WORK.TRANS_CLASSSTATS(keep=name nlevel nmiss);
11901  retain nlevel nmiss;
11902  set WORK.TRANS_CLASSSTATS;
11903  by Name;
11904  if first.Name then do;
11905  nlevel= 0;
11906  nmiss= 0;
11907  end;
11908  if (type='C' and CRAW='') or (type='N' and NRAW=.) then nmiss = FREQUENCY;
11909  else nlevel + 1;
11910  if last.name then output;
11911  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11912  /*Merge Statistics for Class Output Vars */
11913  data WORK.TRANS_CLASSSTATS;
11914  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11915  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b keep=NAME InputName Formula _MetaFlag LEVEL TYPE LABEL);
11916  by NAME;
11917  if _a and _b then do;
11918  SOURCE='Output';
11919  if _MetaFlag = 1 then _METHOD_="Meta";
11920  else if Formula eq 'Interaction' then _METHOD_="Computed";
11921  else if inputName eq '' then _METHOD_="Formula";
11922  else _METHOD_="Computed";
11923  if Formula = '' then Formula = "User Code";
11924  end;
11925  if _a then output;
11926  drop inputName LEVEL TYPE _MetaFlag;
11927  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11928  /*Merge Statistics for Class Input Vars */
11929  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11930  by NAME;
11931  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11932  data WORK.TRANS_CLASSSTATS;
11933  merge WORK.TRANS_CLASSSTATS(in=_a) _temp(in=_b);
11934  by NAME;
11935  if _a and _b then do;
11936  SOURCE='Input';
11937  _METHOD_="Original";
11938  end;
11939  if _a then output;
11940  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_CLASSSTATS has 0 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11941  *------------------------------------------------------------*;
11942  * Trans: Combine Information and Statistics for Interval Variables;
11943  *------------------------------------------------------------*;
11944  proc sort data=WORK.TRANS_OUTPUTVARS out=_temp;
11945  by NAME;
11946  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_OUTPUTVARS.
NOTE: The data set WORK._TEMP has 1 observations and 22 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11947  proc sort data=WORK.TRANS_VARSTATS;
11948  by NAME;
11949  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11950  *Merge Statistics for Output Vars;
11951  data WORK.TRANS_VARSTATS;
11952  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11953  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b keep=NAME Formula InputName _MetaFlag LEVEL TYPE LABEL);
11954  by NAME;
11955  if _a and _b then do;
11956  SOURCE='Output';
11957  if _MetaFlag = 1 then _METHOD_="Meta";
11958  else if Formula eq 'Interaction' then _METHOD_="Computed";
11959  else if inputName eq '' then _METHOD_="Formula";
11960  else _METHOD_="Computed";
11961  if Formula = '' then Formula = "Mixture of variables";
11962  end;
11963  if _a then output;
11964  drop inputName LEVEL TYPE _MetaFlag;
11965  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 13 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
11966  *Merge Statistics for Input Vars;
11967  proc sort data=WORK.TRANS_SCOREINPUTS(drop=TYPE LEVEL) out=_temp nodupkey;
11968  by NAME;
11969  run;
 
NOTE: There were 1 observations read from the data set WORK.TRANS_SCOREINPUTS.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._TEMP has 1 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11970  data WORK.TRANS_VARSTATS;
11971  merge WORK.TRANS_VARSTATS(in=_a) _temp(in=_b);
11972  by NAME;
11973  if _a and _b then do;
11974  SOURCE='Input';
11975  _METHOD_="Original";
11976  end;
11977  if _a then output;
11978  run;
 
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_VARSTATS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
11979  *------------------------------------------------------------*;
11980  * Trans: Combine statistics for class and interval variables;
11981  *------------------------------------------------------------*;
11982  data EMWS2.Trans_STATISTICS;
11983  length SOURCE $6 _METHOD_ $8 NAME $32 FORMULA $300;
11984  label SOURCE = "%sysfunc(sasmsg(sashelp.dmine, rpt_source_vlabel,  NOQUOTE))" _METHOD_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_method_vlabel,  NOQUOTE))" NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA =
11985     "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,   NOQUOTE))" NLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel,   NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonmiss_vlabel, NOQUOTE))" NMISS =
11986     "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN =
11987     "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,    NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,     NOQUOTE))" SKEWNESS = "%sysfunc(sasmsg(sashelp.dmine, rpt_skewness_vlabel, NOQUOTE))" KURTOSIS =
11988     "%sysfunc(sasmsg(sashelp.dmine, rpt_kurtosis_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
11989  set
11990  WORK.TRANS_CLASSSTATS
11991  WORK.TRANS_VARSTATS
11992  ;
11993  drop UNAME;
11994  run;
 
NOTE: There were 0 observations read from the data set WORK.TRANS_CLASSSTATS.
NOTE: There were 2 observations read from the data set WORK.TRANS_VARSTATS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.03 seconds
 
 
11995  proc sort data=EMWS2.Trans_STATISTICS;
11996  by SOURCE _METHOD_ NAME;
11997  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.06 seconds
      cpu time            0.03 seconds
 
 
11998  proc sort data = EMWS2.Trans_STATISTICS NOTHREADS;
11999  by SOURCE NAME;
12000  run;
 
NOTE: There were 2 observations read from the data set EMWS2.TRANS_STATISTICS.
NOTE: The data set EMWS2.TRANS_STATISTICS has 2 observations and 14 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
12001  title9 ' ';
12002  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12003  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervalinputStats_title, NOQUOTE))";
12004  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12005  var Name NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12006  where SOURCE eq 'INPUT' and mean ne .;
12007  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
12008  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12009  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_intervaloutputStats_title, NOQUOTE))";
12010  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12011  var Name _METHOD_ NMISS MIN MAX MEAN STD SKEWNESS KURTOSIS;
12012  where SOURCE eq 'OUTPUT' and mean ne .;
12013  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (mean not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12014  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12015  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classinputStats_title, NOQUOTE))";
12016  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12017  var Name NLEVEL NMISS;
12018  where SOURCE eq 'INPUT' and nlevel ne .;
12019  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='INPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
12020  proc print data = EMWS2.Trans_STATISTICS(obs=500) noobs label;
12021  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_classoutputStats_title, NOQUOTE))";
12022  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
12023  var Name _METHOD_ NLEVEL NMISS;
12024  where SOURCE eq 'OUTPUT' and nlevel ne .;
12025  run;
 
NOTE: No observations were selected from data set EMWS2.TRANS_STATISTICS.
NOTE: There were 0 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE (SOURCE='OUTPUT') and (nlevel not = .);
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
12026  title9;
12027  title10;
 
12028  data EMWS2.Trans_EMSCOREVAR;
12029  length Name $32 formula $300 file $200;
12030  keep NAME Formula file;
12031  set EMWS2.Trans_STATISTICS;
12032  where SOURCE='Output';
12033  select( _METHOD_);
12034  when('Computed') do;
12035  file="TRANSFORMCODE\"!!strip(NAME)!!'.sas';
12036  formula = '';
12037  end;
12038  when('Formula') do;
12039  if Formula eq 'Mixture of variables' then do;
12040  file= "EDITORCODE.sas";
12041  formula = '';
12042  end;
12043  if Formula = 'User Code' then do;
12044  file= "EDITORCODE.sas";
12045  formula = '';
12046  end;
12047  end;
12048  otherwise;
12049  end;
12050  output;
12051  run;
 
NOTE: There were 1 observations read from the data set EMWS2.TRANS_STATISTICS.
      WHERE SOURCE='Output';
NOTE: The data set EMWS2.TRANS_EMSCOREVAR has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.00 seconds
 
 
