*------------------------------------------------------------*
* Score Log
Date:                December 12, 2017
Time:                11:45:19
*------------------------------------------------------------*
11274  proc FCMP NOEXECUTE IMPUTEDDEPS OUTDEPS=WORK._CODEINPUT1;
11275  RFM = substr(pctl_GiftCntAll,1,2)||substr(pctl_GiftTimeLast_Rev,1,2)||substr(pctl_Monetary_TotalGiftAmount,1,2);
11276  run;

NOTE: Dependency structure written to data set WORK._CODEINPUT1.
NOTE: PROCEDURE FCMP used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11277  quit;

11278  data WORK._CODEINPUT1;
11279  length ROLE $32 LEVEL $8 REPORT $1;
11280  retain _FormulaNum 1 ROLE "INPUT" REPORT "N" LEVEL "INTERVAL";
11281  set WORK._CODEINPUT1(keep=RHS rename=(RHS=INPUTNAME));
11282  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11283  proc sort data=WORK._CODEINPUT1 NODUPKEY;
11284  by INPUTNAME;
11285  run;

NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: 0 observations with duplicate key values were deleted.
NOTE: The data set WORK._CODEINPUT1 has 3 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11286  proc append base=WORK.TRANS_FORMULAVARS data=WORK._CODEINPUT1;
11287  run;

NOTE: Appending WORK._CODEINPUT1 to WORK.TRANS_FORMULAVARS.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 3 observations read from the data set WORK._CODEINPUT1.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 5 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11288  data WORK.TRANS_FORMULAVARS;
11289  length UNAME $32;
11290  set WORK.TRANS_FORMULAVARS;
11291  UNAME = upcase(INPUTNAME);
11292  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11293  proc sort data=WORK.TRANS_FORMULAVARS;
11294  by UNAME;
11295  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11296  data _temp;
11297  set EMWS2.Trans4_VariableSet(keep=NAME LEVEL ROLE TYPE REPORT rename=(NAME=INPUTNAME LEVEL=INPUTLEVEL ROLE=INPUTROLE TYPE=INPUTTYPE REPORT=INPUTREPORT));
11298  length UNAME $32;
11299  UNAME = upcase(INPUTNAME);
11300  run;

NOTE: There were 28 observations read from the data set EMWS2.TRANS4_VARIABLESET.
NOTE: The data set WORK._TEMP has 28 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11301  proc sort data=_temp;
11302  by UNAME;
11303  run;

NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK._TEMP has 28 observations and 6 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11304  data WORK.TRANS_FORMULAVARS;
11305  merge WORK.TRANS_FORMULAVARS(in=_a) _temp(in=_b);
11306  by UNAME;
11307  if _a and _b then output;
11308  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 28 observations read from the data set WORK._TEMP.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11309  proc sort data=WORK.TRANS_FORMULAVARS;
11310  by _FormulaNum UNAME;
11311  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 3 observations and 10 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11312  data WORK.TRANS_FORMULAVARS _target(keep=_FormulaNum);
11313  length ROLE $32 REPORT $1;
11314  set WORK.TRANS_FORMULAVARS;
11315  by _FormulaNum;
11316  if INPUTROLE = 'TARGET' then output _target;
11317  if first._FormulaNum then do;
11318  if ^last._FormulaNum then do;
11319  INPUTNAME='';
11320  INPUTROLE='';
11321  INPUTTYPE='';
11322  INPUTREPORT='';
11323  end;
11324  output WORK.TRANS_FORMULAVARS;
11325  end;
11326  run;

NOTE: There were 3 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: The data set WORK.TRANS_FORMULAVARS has 1 observations and 10 variables.
NOTE: The data set WORK._TARGET has 0 observations and 1 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11327  data _temp;
11328  set EMWS2.Trans4_FORMULA;
11329  _FormulaNum = _N_;
11330  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS4_FORMULA.
NOTE: The data set WORK._TEMP has 1 observations and 18 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11331  data WORK.TRANS_CODEFORMULA;
11332  length Name $32 Formula $300 Role $32 Level $10 REPORT $1;
11333  label NAME = "%sysfunc(sasmsg(sashelp.dmine, meta_name_vlabel,  NOQUOTE))" FORMULA = "%sysfunc(sasmsg(sashelp.dmine, rpt_formula_vlabel,  NOQUOTE))" ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel,  NOQUOTE))" LEVEL =
11334     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel,  NOQUOTE))" REPORT = "%sysfunc(sasmsg(sashelp.dmine, meta_report_vlabel,  NOQUOTE))" _targetFlag = "%sysfunc(sasmsg(sashelp.dmine, rpt_targetbased_vlabel,  NOQUOTE))" INPUTNAME =
11335     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputname_vlabel,  NOQUOTE))" INPUTLEVEL = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputlevel_vlabel,  NOQUOTE))" INPUTROLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_inputrole_vlabel,  NOQUOTE))" INPUTTYPE =
11336     "%sysfunc(sasmsg(sashelp.dmine, rpt_inputtype_vlabel,  NOQUOTE))";
11337  drop _FormulaNum UNAME;
11338  _targetFlag = 0;
11339  merge _temp(in=_a) WORK.TRANS_FORMULAVARS(in=_b) _target(in=_c);
11340  by _FormulaNum;
11341  _targetFlag = 0;
11342  if _c then _targetFlag=1;
11343  if INPUT ne '' then if _a and ^_b then delete;
11344  if ROLE = '' then do;
11345  if INPUTROLE = '' then ROLE='INPUT';
11346  else ROLE = INPUTROLE;
11347  end;
11348  if REPORT = '' then do;
11349  if INPUTREPORT = '' then REPORT='N';
11350  else REPORT = INPUTREPORT;
11351  end;
11352  run;

NOTE: Variable INPUT is uninitialized.
NOTE: There were 1 observations read from the data set WORK._TEMP.
NOTE: There were 1 observations read from the data set WORK.TRANS_FORMULAVARS.
NOTE: There were 0 observations read from the data set WORK._TARGET.
NOTE: The data set WORK.TRANS_CODEFORMULA has 1 observations and 24 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

11353  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULAFLOWCODE.sas";
11354  data _null_;
11355  set WORK.TRANS_CODEFORMULA;
11356  file _code;
11357  if type eq 'C' and length > 0 then do;
11358  put 'length ' name ' $' length ';';
11359  end;
11360  if format ne '' then do;
11361  put 'format ' name format ';';
11362  end;
11363  length deqLabel $202;
11364  if label ne '' then do;
11365  deqlabel = tranwrd(label, '"', '""');
11366  put 'label ' name '="' deqlabel '";';
11367  end;
11368  if name ne '' and formula ne '' then do;
11369  put name '=' formula ';';
11370  end;
11371  run;

NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULAFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:45:22,
      Create Time=12Dec2017:11:45:22

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 112.
      The maximum record length was 112.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11372  filename _code;
NOTE: Fileref _CODE has been deassigned.

11373  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULAPUBLISHCODE.sas";
11374  data _null_;
11375  set WORK.TRANS_CODEFORMULA;
11376  file _code;
11377  if _targetFlag eq 0 then do;
11378  if type eq 'C' and length > 0 then do;
11379  put 'length ' name ' $' length ';';
11380  end;
11381  if format ne '' then do;
11382  put 'format ' name format ';';
11383  end;
11384  length deqLabel $202;
11385  if label ne '' then do;
11386  deqlabel = tranwrd(label, '"', '""');
11387  put 'label ' name '="' deqlabel '";';
11388  end;
11389  if name ne '' and formula ne '' then do;
11390  put name '=' formula ';';
11391  end;
11392  end;
11393  run;

NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULAPUBLISHCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:45:22,
      Create Time=12Dec2017:11:45:22

NOTE: 1 record was written to the file _CODE.
      The minimum record length was 112.
      The maximum record length was 112.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11394  filename _code;
NOTE: Fileref _CODE has been deassigned.

11395  filename _code "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULADELTACODE.sas";
11396  data _null_;
11397  set WORK.TRANS_CODEFORMULA;
11398  file _code;
11399  length String $200;
11400  if ROLE eq '' then ROLE = 'REJECTED';
11401  if REPORT eq '' then REPORT = 'N';
11402  String = 'if NAME="'!!strip(name)!!'" then do;';
11403  put / string;
11404  String = '   ROLE ="'!!strip(role)!!'";';
11405  put string;
11406  String = '   REPORT ="'!!strip(report)!!'";';
11407  put string;
11408  if LEVEL ne '' then do;
11409  String = '   LEVEL ="'!!strip(level)!!'";';
11410  put string;
11411  end;
11412  put 'end;';
11413  if INPUTNAME ne '' then do;
11414  String = 'if NAME="'!!strip(INPUTNAME)!!'" then delete;';
11415  put String;
11416  end;
11417  run;

NOTE: The file _CODE is:
      Filename=\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\FORMULADELTACODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=0,
      Last Modified=12Dec2017:11:45:22,
      Create Time=12Dec2017:11:45:22

NOTE: 6 records were written to the file _CODE.
      The minimum record length was 0.
      The maximum record length was 22.
NOTE: There were 1 observations read from the data set WORK.TRANS_CODEFORMULA.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

11418  filename _code;
NOTE: Fileref _CODE has been deassigned.

NOTE: This SAS session is using a registry in WORK.  All changes will be lost at the end of this session.
11419  proc print data = EMWS2.Trans4_FORMULA(obs=500) noobs label;
11420  title9 "%sysfunc(sasmsg(sashelp.dmine, rpt_formulatransformations_title, NOQUOTE))";
11421  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_maxObsPrinted_title, NOQUOTE))";
11422  var Name ROLE LEVEL FORMULA;
11423  run;

NOTE: There were 1 observations read from the data set EMWS2.TRANS4_FORMULA.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
      

11424  title9;
11425  title10;

11426  filename emflow "\\filer.uncc.edu\home\hkatrag1\Predictive Analytics1\Workspaces\EMWS2\Trans4\EMFLOWSCORE.sas";
11427  *------------------------------------------------------------*;
11428  * Trans4: Scoring DATA data;
11429  *------------------------------------------------------------*;
11430  data EMWS2.Trans4_TRAIN
11431  / view=EMWS2.Trans4_TRAIN
11432  ;
11433  set EMWS2.Trans3_TRAIN
11434  ;
11435  %inc emflow;
11440  run;

NOTE: DATA STEP view saved on file EMWS2.TRANS4_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS2.TRANS3_TRAIN.VIEW used (Total process time):
      real time           0.15 seconds
      cpu time            0.14 seconds
      
NOTE: DATA statement used (Total process time):
      real time           0.17 seconds
      cpu time            0.15 seconds
      

11441  quit;
11442  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.

11443  *------------------------------------------------------------*;
11444  * Trans4: Computing metadata for TRAIN data;
11445  *------------------------------------------------------------*;

NOTE: View EMWS2.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.17 seconds
      
NOTE: View EMWS2.TRANS4_TRAIN.VIEW used (Total process time):
      real time           0.17 seconds
      cpu time            0.17 seconds
      
